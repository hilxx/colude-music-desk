(window.webpackJsonp_name_library=window.webpackJsonp_name_library||[]).push([[2],{290:function(e,n,t){e.exports={wrap:"_1kepuFat5W-fKyV4rAE_lH"}},302:function(e,n,t){"use strict";t.r(n);t(15),t(20),t(21),t(28),t(18),t(13),t(22),t(23),t(10),t(11),t(212),t(24),t(17),t(16);var r=t(0),o=t.n(r),u=t(290),i=t.n(u),c=t(94),a=t(12),l=t(40),f=t(51);function s(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var t=[],r=!0,o=!1,u=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(t.push(i.value),!n||t.length!==n);r=!0);}catch(e){o=!0,u=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw u}}return t}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return g(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return g(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}n.default=Object(a.b)((function(e){var n=e.get("music"),t=n.get("index"),r=n.get("playing"),o=n.getIn(["mode","index"]),u=n.get("percent"),i=n.get("volume"),c=n.get("playlist");return{index:t,playing:r,modeIndex:o,percent:u,volume:i,urls_imm:n.get("urls"),playlist_imm:c}}),(function(e){return{getUrl:function(n){e(l.a.getUrl(n))},changePercent:function(n){e(l.a.changePercent(n))},toggleLoading:function(n){e(l.a.toggleLoading(n))},nextSong:function(){e(l.a.nextSong())},invalidSong:function(n){e(l.a.invalidSong(n))}}}))(Object(r.memo)((function(e){var n=e.index,t=e.playing,u=e.modeIndex,a=e.percent,l=e.volume,g=e.invalidSong,m=e.getUrl,b=e.changePercent,d=e.toggleLoading,p=e.nextSong,y=e.playlist_imm,v=e.urls_imm,j=Object(r.useMemo)((function(){return y.toJS()}),[y]),O=s(Object(r.useState)(0),2),h=O[0],S=O[1],w=Object(r.useMemo)((function(){return j[n]&&j[n].id}),[j,n]),x=Object(r.useMemo)((function(){return v.toJS()}),[v]),_=Object(r.useRef)(null),E=Object(r.useCallback)((function(e){S(_.current.duration)}),[_]),A=Object(r.useCallback)(Object(f.e)((function(e){var n=_.current,t=n.currentTime,r=n.duration;b((t/r).toString())}),400),[_,b]);return Object(r.useEffect)((function(){w&&!Reflect.has(x,w)&&m(w)}),[x,w,m]),Object(r.useEffect)((function(){if(h){var e=_.current;t?e.play():e.pause()}}),[t,_,h]),Object(r.useEffect)((function(){_.current.volume=l}),[l,_]),Object(r.useEffect)((function(){"number"==typeof a&&(_.current.currentTime=a*h)}),[a,h,_]),Object(r.useEffect)((function(){Reflect.has(x,w)&&!x[w]&&(g(n),p())}),[x[w],p,n]),o.a.createElement("audio",{ref:_,autoPlay:t,loop:u===c.b,src:x[w],className:i.a.wrap,onDurationChange:E,onTimeUpdate:A,onWaiting:function(e){return d(!0)},onCanPlay:function(e){return d(!1)},onEnded:function(e){return p()}})})))}}]);